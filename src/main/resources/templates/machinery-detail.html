<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Detalle de Maquinaria - AgroRent</title>
  <link rel="stylesheet" th:href="@{/css/main.css}" />
</head>
<body>
<header>
  <h1>AgroRent</h1>
  <nav>
    <a th:href="@{/}">Inicio</a>
    <a th:href="@{/machinery}">Buscar Maquinaria</a>
    <a th:href="@{/login}">Ingresar</a>
    <a th:href="@{/register}">Registrarse</a>
  </nav>
</header>

<main>
  <div th:if="${machinery == null}" class="error-message">
    <h2>Maquinaria no encontrada</h2>
    <p>La maquinaria solicitada no existe o ha sido eliminada.</p>
    <a th:href="@{/machinery}" class="btn-primary">Volver a Búsqueda</a>
  </div>
  
  <div th:if="${machinery != null}" class="machinery-detail">
    <div class="machinery-header">
      <h2 th:text="${machinery.type + ' ' + machinery.brand + ' ' + machinery.model}"></h2>
      <div class="price-tag">
        <span class="price" th:text="${'$' + #numbers.formatDecimal(machinery.pricePerDay, 0, 'POINT', 0, 'NONE') + '/día'}"></span>
      </div>
    </div>
    
    <div class="machinery-content">
      <div class="machinery-info">
        <h3>Información General</h3>
        <div class="info-grid">
          <div class="info-item">
            <strong>Año de Fabricación:</strong>
            <span th:text="${machinery.year}"></span>
          </div>
          <div class="info-item">
            <strong>Ubicación:</strong>
            <span th:text="${machinery.location}"></span>
          </div>
          <div class="info-item">
            <strong>Capacidad:</strong>
            <span th:text="${machinery.capacity + ' HP'}"></span>
          </div>
          <div class="info-item">
            <strong>Propietario:</strong>
            <span th:text="${machinery.owner.name}"></span>
          </div>
        </div>
        
        <h3>Mantenimiento y Condiciones</h3>
        <div class="maintenance-info">
          <p><strong>Últimas Mantenciones:</strong></p>
          <p th:text="${machinery.maintenance}"></p>
          
          <p><strong>Condiciones de Arriendo:</strong></p>
          <p th:text="${machinery.conditions}"></p>
          
          <p><strong>Medios de Pago Aceptados:</strong></p>
          <p th:text="${machinery.paymentMethods}"></p>
        </div>
        
        <h3>Disponibilidad</h3>
        <div class="availability-info">
          <p><strong>Disponible desde:</strong> <span th:text="${#temporals.format(machinery.availableFrom, 'dd/MM/yyyy')}"></span></p>
          <p><strong>Disponible hasta:</strong> <span th:text="${#temporals.format(machinery.availableTo, 'dd/MM/yyyy')}"></span></p>
        </div>
      </div>
      
      <div class="machinery-actions">
        <div class="action-buttons">
          <a th:href="@{/machinery}" class="btn-secondary">Volver a Búsqueda</a>
          <div class="auth-notice">
            <p><i class="icon-lock"></i> Para reservar esta maquinaria, necesitas <a th:href="@{/login}">iniciar sesión</a> o <a th:href="@{/register}">registrarte</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<footer>© 2025 AgroRent</footer>
</body>
</html>
